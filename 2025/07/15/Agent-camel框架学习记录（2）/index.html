<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha256-dABdfBfUoC8vJUBOwGVdm8L9qlMWaHTIfXt+7GnZCIo=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.23.1","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"codeblock":{"theme":{"light":"default","dark":"stackoverflow-dark"},"prism":{"light":"prism","dark":"prism-dark"},"copy_button":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"language":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js" defer></script>

    <meta name="description" content="åŸä½œè€…é“¾æ¥ğŸ”—ï¼šhttps:&#x2F;&#x2F;fmhw1n4zpn.feishu.cn&#x2F;docx&#x2F;AF4XdOZpIo6TOaxzDK8cxInNnCe 2.3.3 ä½¿ç”¨å¼€æºæ¨¡å‹ï¼šOllamaOllama æ˜¯ä¸€ä¸ªå¼€æºæœºå™¨å­¦ä¹ æ¡†æ¶ï¼Œä¸“æ³¨äºè®©ç”¨æˆ·è½»æ¾ä½¿ç”¨è¯­è¨€æ¨¡å‹ã€‚å®ƒåŸºäº llama.cpp å®ç°ï¼Œæ”¯æŒ CPU&#x2F;GPU æ¨ç†ï¼Œå¹¶å…¼å®¹ OpenAI æ¥å£ã€‚ å®‰è£…ä¸ä½¿ç”¨ Qwen2.51ollama pull">
<meta property="og:type" content="article">
<meta property="og:title" content="Agent_camelæ¡†æ¶å­¦ä¹ è®°å½•ï¼ˆ2ï¼‰">
<meta property="og:url" content="http://example.com/2025/07/15/Agent-camel%E6%A1%86%E6%9E%B6%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95%EF%BC%882%EF%BC%89/index.html">
<meta property="og:site_name" content="_010001SUTANG_">
<meta property="og:description" content="åŸä½œè€…é“¾æ¥ğŸ”—ï¼šhttps:&#x2F;&#x2F;fmhw1n4zpn.feishu.cn&#x2F;docx&#x2F;AF4XdOZpIo6TOaxzDK8cxInNnCe 2.3.3 ä½¿ç”¨å¼€æºæ¨¡å‹ï¼šOllamaOllama æ˜¯ä¸€ä¸ªå¼€æºæœºå™¨å­¦ä¹ æ¡†æ¶ï¼Œä¸“æ³¨äºè®©ç”¨æˆ·è½»æ¾ä½¿ç”¨è¯­è¨€æ¨¡å‹ã€‚å®ƒåŸºäº llama.cpp å®ç°ï¼Œæ”¯æŒ CPU&#x2F;GPU æ¨ç†ï¼Œå¹¶å…¼å®¹ OpenAI æ¥å£ã€‚ å®‰è£…ä¸ä½¿ç”¨ Qwen2.51ollama pull">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/Agent-camel%E6%A1%86%E6%9E%B6%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95%EF%BC%882%EF%BC%89%5C%E5%9B%BE%E7%89%87%E7%A4%BA%E4%BE%8B01.jpg">
<meta property="article:published_time" content="2025-07-15T05:09:52.000Z">
<meta property="article:modified_time" content="2025-07-20T15:33:27.362Z">
<meta property="article:author" content="Su Tang">
<meta property="article:tag" content="AI">
<meta property="article:tag" content="CAMEL">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/Agent-camel%E6%A1%86%E6%9E%B6%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95%EF%BC%882%EF%BC%89%5C%E5%9B%BE%E7%89%87%E7%A4%BA%E4%BE%8B01.jpg">


<link rel="canonical" href="http://example.com/2025/07/15/Agent-camel%E6%A1%86%E6%9E%B6%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95%EF%BC%882%EF%BC%89/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"http://example.com/2025/07/15/Agent-camel%E6%A1%86%E6%9E%B6%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95%EF%BC%882%EF%BC%89/","path":"2025/07/15/Agent-camelæ¡†æ¶å­¦ä¹ è®°å½•ï¼ˆ2ï¼‰/","title":"Agent_camelæ¡†æ¶å­¦ä¹ è®°å½•ï¼ˆ2ï¼‰"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Agent_camelæ¡†æ¶å­¦ä¹ è®°å½•ï¼ˆ2ï¼‰ | _010001SUTANG_</title>
  








  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous" defer></script>
<script src="/js/utils.js" defer></script><script src="/js/motion.js" defer></script><script src="/js/sidebar.js" defer></script><script src="/js/next-boot.js" defer></script>

  






  





  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">_010001SUTANG_</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">To ancient evenings and distant music.</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
    </div>
  </div>
</div>







</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#2-3-3-%E4%BD%BF%E7%94%A8%E5%BC%80%E6%BA%90%E6%A8%A1%E5%9E%8B%EF%BC%9AOllama"><span class="nav-number">1.</span> <span class="nav-text">2.3.3 ä½¿ç”¨å¼€æºæ¨¡å‹ï¼šOllama</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8-Qwen2-5"><span class="nav-number">1.1.</span> <span class="nav-text">å®‰è£…ä¸ä½¿ç”¨ Qwen2.5</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-4-3-BaseMessage-%E6%B6%88%E6%81%AF%E5%A4%84%E7%90%86"><span class="nav-number">2.</span> <span class="nav-text">2.4.3 BaseMessage æ¶ˆæ¯å¤„ç†</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-4-4-%E4%B8%8E-ChatAgent-%E5%8D%8F%E4%BD%9C"><span class="nav-number">3.</span> <span class="nav-text">2.4.4 ä¸ ChatAgent åä½œ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-5-3-%E4%B8%8A%E4%B8%8B%E6%96%87%E5%AD%A6%E4%B9%A0-ICL"><span class="nav-number">4.</span> <span class="nav-text">2.5.3 ä¸Šä¸‹æ–‡å­¦ä¹  (ICL)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-5-4-%E6%80%9D%E7%BB%B4%E9%93%BE-CoT"><span class="nav-number">5.</span> <span class="nav-text">2.5.4 æ€ç»´é“¾ (CoT)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-5-5-%E4%BD%BF%E7%94%A8-CAMEL-%E7%9A%84-Prompt"><span class="nav-number">6.</span> <span class="nav-text">2.5.5 ä½¿ç”¨ CAMEL çš„ Prompt</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-6Memory%E8%AE%B0%E5%BF%86%E7%B3%BB%E7%BB%9F"><span class="nav-number">7.</span> <span class="nav-text">2.6Memoryè®°å¿†ç³»ç»Ÿ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-7-Tools-%E5%B7%A5%E5%85%B7%E7%B3%BB%E7%BB%9F"><span class="nav-number">8.</span> <span class="nav-text">2.7 Tools å·¥å…·ç³»ç»Ÿ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-7-1-%E5%B7%A5%E5%85%B7%E8%AF%B4%E6%98%8E"><span class="nav-number">8.1.</span> <span class="nav-text">2.7.1 å·¥å…·è¯´æ˜</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-7-2-%E5%8A%A8%E6%89%8B%E5%AE%9E%E8%B7%B5"><span class="nav-number">8.2.</span> <span class="nav-text">2.7.2 åŠ¨æ‰‹å®è·µ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-7-3-%E8%BF%9B%E9%98%B6%E6%A1%88%E4%BE%8B%EF%BC%9AAI-Society-%E5%B7%A5%E5%85%B7%E7%B3%BB%E7%BB%9F"><span class="nav-number">8.3.</span> <span class="nav-text">2.7.3 è¿›é˜¶æ¡ˆä¾‹ï¼šAI Society + å·¥å…·ç³»ç»Ÿ</span></a></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Su Tang</p>
  <div class="site-description" itemprop="description">nothing is anything</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">13</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">categories</span>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">tags</span>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/07/15/Agent-camel%E6%A1%86%E6%9E%B6%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95%EF%BC%882%EF%BC%89/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Su Tang">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="_010001SUTANG_">
      <meta itemprop="description" content="nothing is anything">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="Agent_camelæ¡†æ¶å­¦ä¹ è®°å½•ï¼ˆ2ï¼‰ | _010001SUTANG_">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Agent_camelæ¡†æ¶å­¦ä¹ è®°å½•ï¼ˆ2ï¼‰
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2025-07-15 13:09:52" itemprop="dateCreated datePublished" datetime="2025-07-15T13:09:52+08:00">2025-07-15</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2025-07-20 23:33:27" itemprop="dateModified" datetime="2025-07-20T23:33:27+08:00">2025-07-20</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">å­¦ä¹ ç¬”è®°</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><hr>
<p>åŸä½œè€…é“¾æ¥ğŸ”—ï¼š<a target="_blank" rel="noopener" href="https://fmhw1n4zpn.feishu.cn/docx/AF4XdOZpIo6TOaxzDK8cxInNnCe">https://fmhw1n4zpn.feishu.cn/docx/AF4XdOZpIo6TOaxzDK8cxInNnCe</a></p>
<h2 id="2-3-3-ä½¿ç”¨å¼€æºæ¨¡å‹ï¼šOllama"><a href="#2-3-3-ä½¿ç”¨å¼€æºæ¨¡å‹ï¼šOllama" class="headerlink" title="2.3.3 ä½¿ç”¨å¼€æºæ¨¡å‹ï¼šOllama"></a>2.3.3 ä½¿ç”¨å¼€æºæ¨¡å‹ï¼šOllama</h2><p>Ollama æ˜¯ä¸€ä¸ªå¼€æºæœºå™¨å­¦ä¹ æ¡†æ¶ï¼Œä¸“æ³¨äºè®©ç”¨æˆ·è½»æ¾ä½¿ç”¨è¯­è¨€æ¨¡å‹ã€‚å®ƒåŸºäº <code>llama.cpp</code> å®ç°ï¼Œæ”¯æŒ CPU&#x2F;GPU æ¨ç†ï¼Œå¹¶å…¼å®¹ OpenAI æ¥å£ã€‚</p>
<h3 id="å®‰è£…ä¸ä½¿ç”¨-Qwen2-5"><a href="#å®‰è£…ä¸ä½¿ç”¨-Qwen2-5" class="headerlink" title="å®‰è£…ä¸ä½¿ç”¨ Qwen2.5"></a>å®‰è£…ä¸ä½¿ç”¨ Qwen2.5</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ollama pull qwen2.5:7b</span><br></pre></td></tr></table></figure>

<p>æ¨¡å‹åŠ è½½æ–¹å¼ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> camel.models <span class="keyword">import</span> ModelFactory</span><br><span class="line"><span class="keyword">from</span> camel.types <span class="keyword">import</span> ModelPlatformType</span><br><span class="line"></span><br><span class="line">model = ModelFactory.create(</span><br><span class="line">    model_platform=ModelPlatformType.OLLAMA,</span><br><span class="line">    model_type=<span class="string">&quot;qwen2.5&quot;</span>,</span><br><span class="line">    model_config_dict=&#123;<span class="string">&quot;temperature&quot;</span>: <span class="number">0.4</span>&#125;,</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>è‡ªè¡Œæ„å»ºçš„qwen2.5:7bæ¨¡å‹ä¸‹çš„å¤šè¡Œé—®ç­”Agent:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> camel.agents <span class="keyword">import</span> ChatAgent</span><br><span class="line"><span class="keyword">from</span> camel.models <span class="keyword">import</span> ModelFactory</span><br><span class="line"><span class="keyword">from</span> camel.types <span class="keyword">import</span> ModelPlatformType</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> camel.messages <span class="keyword">import</span> BaseMessage</span><br><span class="line"></span><br><span class="line">model = ModelFactory.create(</span><br><span class="line">    model_platform=ModelPlatformType.OLLAMA,</span><br><span class="line">    model_type=<span class="string">&quot;qwen2.5:7b&quot;</span>,  <span class="comment"># Use the model name displayed in &#x27;ollama list&#x27;</span></span><br><span class="line">    model_config_dict=&#123;</span><br><span class="line">        <span class="string">&quot;temperature&quot;</span>: <span class="number">0.4</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    url=<span class="string">&quot;http://localhost:11434/v1/&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">agent = ChatAgent(</span><br><span class="line">    model=model,</span><br><span class="line">    output_language=<span class="string">&#x27;ä¸­æ–‡&#x27;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;ä¸ CAMEL ä»£ç†å¼€å§‹å¯¹è¯ (è¾“å…¥ &#x27;é€€å‡º&#x27; ç»“æŸ):&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;ä½ : (è¾“å…¥å¤šè¡Œå†…å®¹ï¼Œç©ºè¡Œç»“æŸ)&quot;</span>)</span><br><span class="line">    user_input_lines = []</span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        line = <span class="built_in">input</span>()</span><br><span class="line">        <span class="keyword">if</span> line.lower() == <span class="string">&#x27;é€€å‡º&#x27;</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;å¯¹è¯ç»“æŸã€‚&quot;</span>)</span><br><span class="line">            sys.exit()  <span class="comment"># å®Œå…¨é€€å‡ºç¨‹åº</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> line.strip():  <span class="comment"># ç©ºè¡Œç»“æŸè¾“å…¥</span></span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        user_input_lines.append(line)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> user_input_lines:  <span class="comment"># å¦‚æœæœ‰è¾“å…¥å†…å®¹</span></span><br><span class="line">        user_input = <span class="string">&#x27;\n&#x27;</span>.join(user_input_lines)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">continue</span>  <span class="comment"># ç©ºè¾“å…¥åˆ™é‡æ–°å¼€å§‹å¾ªç¯</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># Create a BaseMessage from user input</span></span><br><span class="line">    user_msg = BaseMessage.make_user_message(</span><br><span class="line">        role_name=<span class="string">&quot;User&quot;</span>,</span><br><span class="line">        content=user_input</span><br><span class="line">    )   </span><br><span class="line"></span><br><span class="line">    <span class="comment"># Get model response</span></span><br><span class="line">    response = agent.step(user_msg)</span><br><span class="line">    <span class="keyword">if</span> response <span class="keyword">and</span> response.msgs:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;ä»£ç†: <span class="subst">&#123;response.msgs[<span class="number">0</span>].content&#125;</span>&quot;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;ä»£ç†: æœªæ”¶åˆ°æœ‰æ•ˆå›å¤ã€‚&quot;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="2-4-3-BaseMessage-æ¶ˆæ¯å¤„ç†"><a href="#2-4-3-BaseMessage-æ¶ˆæ¯å¤„ç†" class="headerlink" title="2.4.3 BaseMessage æ¶ˆæ¯å¤„ç†"></a>2.4.3 BaseMessage æ¶ˆæ¯å¤„ç†</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> camel.messages <span class="keyword">import</span> BaseMessage</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºæ¶ˆæ¯</span></span><br><span class="line">user_msg = BaseMessage.make_user_message(role_name=<span class="string">&quot;User_1&quot;</span>, content=<span class="string">&quot;Hi&quot;</span>)</span><br><span class="line">assistant_msg = BaseMessage.make_assistant_message(role_name=<span class="string">&quot;Assistant_1&quot;</span>, content=<span class="string">&quot;Hello!&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ›´æ–°æ¶ˆæ¯å†…å®¹</span></span><br><span class="line">updated_msg = user_msg.create_new_instance(<span class="string">&quot;Hi, tell me more about CAMEL&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è½¬æ¢ä¸º OpenAI æ¶ˆæ¯æ ¼å¼</span></span><br><span class="line"><span class="keyword">from</span> camel.types <span class="keyword">import</span> OpenAIBackendRole</span><br><span class="line">openai_msg = user_msg.to_openai_message(role_at_backend=OpenAIBackendRole.USER)</span><br></pre></td></tr></table></figure>
<p>é€šè¿‡BassMessageå®ç°Agentå¤„ç†å›¾ç‰‡&#x2F;è§†é¢‘ç­‰å¤šæ¨¡æ€ä¿¡æ¯ï¼š<br>é¦–å…ˆå±•ç¤ºæœ¬åœ°å›¾ç‰‡çš„å¤šæ¨¡æ€ç†è§£ç¤ºä¾‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> camel.agents <span class="keyword">import</span> ChatAgent</span><br><span class="line"><span class="keyword">from</span> camel.models <span class="keyword">import</span> ModelFactory</span><br><span class="line"><span class="keyword">from</span> camel.types <span class="keyword">import</span> ModelPlatformType</span><br><span class="line"><span class="keyword">from</span> camel.messages <span class="keyword">import</span> BaseMessage</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> io <span class="keyword">import</span> BytesIO</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> dotenv <span class="keyword">import</span> load_dotenv</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="comment"># åŠ è½½ç¯å¢ƒå˜é‡</span></span><br><span class="line">load_dotenv(dotenv_path=<span class="string">&#x27;.env&#x27;</span>)  <span class="comment"># ç¡®ä¿.envæ–‡ä»¶å­˜åœ¨ä¸”è·¯å¾„æ­£ç¡®</span></span><br><span class="line">api_key = os.getenv(<span class="string">&#x27;MODELSCOPE_SDK_TOKEN&#x27;</span>)  <span class="comment"># ä½¿ç”¨ç¯å¢ƒå˜é‡è·å–å¯†é’¥</span></span><br><span class="line"></span><br><span class="line">model = ModelFactory.create(</span><br><span class="line">    model_platform=ModelPlatformType.OPENAI_COMPATIBLE_MODEL,</span><br><span class="line">    model_type=<span class="string">&quot;Qwen/Qwen2.5-VL-72B-Instruct&quot;</span>,</span><br><span class="line">    api_key=api_key,</span><br><span class="line">    url=os.environ.get(<span class="string">&quot;OPENAI_COMPATIBILIY_API_BASE_URL&quot;</span>, <span class="string">&quot;https://api-inference.modelscope.cn/v1/&quot;</span>),  <span class="comment"># ç¯å¢ƒå˜é‡ä¼˜å…ˆï¼Œä¸å­˜åœ¨åˆ™ä½¿ç”¨é»˜è®¤å€¼</span></span><br><span class="line">    model_config_dict=&#123;<span class="string">&quot;temperature&quot;</span>: <span class="number">0.4</span>, <span class="string">&quot;max_tokens&quot;</span>: <span class="number">4096</span>&#125;,</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®ä¾‹åŒ–ChatAgent</span></span><br><span class="line">agent = ChatAgent(model=model,output_language=<span class="string">&#x27;ä¸­æ–‡&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æœ¬åœ°å›¾ç‰‡</span></span><br><span class="line">image_path = <span class="string">&quot;å¾®ä¿¡å›¾ç‰‡_2025-07-11_223853_723.jpg&quot;</span></span><br><span class="line">img = Image.<span class="built_in">open</span>(image_path)  <span class="comment"># ç›´æ¥æ‰“å¼€å›¾ç‰‡æ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line">user_msg = BaseMessage.make_user_message(</span><br><span class="line">    role_name=<span class="string">&quot;User&quot;</span>, </span><br><span class="line">    content=<span class="string">&quot;è¯·æè¿°è¿™å¼ å›¾ç‰‡çš„å†…å®¹&quot;</span>, </span><br><span class="line">    image_list=[img]  <span class="comment"># ä½¿ç”¨image_listå‚æ•°ä¼ å…¥PIL.Imageå¯¹è±¡åˆ—è¡¨</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">response = agent.step(user_msg)   <span class="comment"># 1. å°†åŒ…å«å›¾ç‰‡çš„ç”¨æˆ·æ¶ˆæ¯å‘é€ç»™AIä»£ç†</span></span><br><span class="line"><span class="built_in">print</span>(response.msgs[<span class="number">0</span>].content)  <span class="comment"># 2. æ‰“å°AIä»£ç†çš„å›å¤å†…å®¹</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="/Agent-camel%E6%A1%86%E6%9E%B6%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95%EF%BC%882%EF%BC%89%5C%E5%9B%BE%E7%89%87%E7%A4%BA%E4%BE%8B01.jpg" alt="å›¾ç‰‡ç¤ºä¾‹"></p>
<p>ä»¥ä¸Šçš„å›¾ç‰‡ç¤ºä¾‹è¿è¡Œåçš„ç»“æœï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">PS D:\Camel_Test_Project&gt; &amp; D:/Download/Python/py-3.11.9/python.exe d:/Camel_Test_Project/Multimodal_images.py      </span><br><span class="line">è¿™å¼ å›¾ç‰‡æ˜¾ç¤ºäº†ä¸€ä½æ­£åœ¨æ‰“ç¾½æ¯›çƒçš„äººã€‚ä»–ç©¿ç€é»‘è‰²çš„Tæ¤å’Œçº¢è‰²çš„çŸ­è£¤ï¼Œè„šä¸Šç©¿ç€ç™½è‰²çš„è¿åŠ¨é‹ã€‚ä»–çš„å³æ‰‹æŒç€ç¾½æ¯›çƒæ‹ï¼Œä¼¼ä¹åœ¨å‡†å¤‡å‡»çƒæˆ–åˆšåˆšå®Œæˆä¸€æ¬¡å‡»çƒåŠ¨ä½œã€‚èƒŒæ™¯æ˜¯ä¸€ä¸ªå®¤å†…ç¾½æ¯›çƒåœºåœ°ï¼Œå¯ä»¥çœ‹åˆ°å½©è‰²çš„è§‚ ä¼—å¸­å’Œä¸€äº›æ”¾ç½®åœ¨åœ°ä¸Šçš„ç‰©å“ï¼Œå¦‚èƒŒåŒ…å’Œé‹å­ã€‚åœºåœ°çš„åœ°é¢æ˜¯ç»¿è‰²çš„ï¼Œæ ‡æœ‰ç™½è‰²çš„çº¿æ¡ï¼Œç”¨äºåˆ’åˆ†æ¯”èµ›åŒºåŸŸ</span><br></pre></td></tr></table></figure>

<h2 id="2-4-4-ä¸-ChatAgent-åä½œ"><a href="#2-4-4-ä¸-ChatAgent-åä½œ" class="headerlink" title="2.4.4 ä¸ ChatAgent åä½œ"></a>2.4.4 ä¸ ChatAgent åä½œ</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> camel.agents <span class="keyword">import</span> ChatAgent</span><br><span class="line">chat_agent = ChatAgent(model=model, system_message=<span class="string">&quot;You are a helpful assistant&quot;</span>, output_language=<span class="string">&#x27;zh&#x27;</span>)</span><br><span class="line">response = chat_agent.step(<span class="string">&quot;ä»‹ç»ä¸€ä¸‹ CAMEL AI&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(response.msgs[<span class="number">0</span>].content)</span><br></pre></td></tr></table></figure>

<h2 id="2-5-3-ä¸Šä¸‹æ–‡å­¦ä¹ -ICL"><a href="#2-5-3-ä¸Šä¸‹æ–‡å­¦ä¹ -ICL" class="headerlink" title="2.5.3 ä¸Šä¸‹æ–‡å­¦ä¹  (ICL)"></a>2.5.3 ä¸Šä¸‹æ–‡å­¦ä¹  (ICL)</h2><p>ICL é€šè¿‡ä¸Šä¸‹æ–‡ä¸­çš„ç¤ºä¾‹ï¼ˆFew-shot&#x2F;One-shot&#x2F;Zero-shotï¼‰æŒ‡å¯¼æ¨¡å‹ç”Ÿæˆç­”æ¡ˆã€‚</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">è‹±æ–‡è½¬æ³•æ–‡ä»»åŠ¡ç¤ºä¾‹ï¼š</span><br><span class="line">Translate English to French.</span><br><span class="line">apple -&gt; pomme</span><br><span class="line">car -&gt; voiture</span><br><span class="line">cat -&gt; chat</span><br><span class="line">dog -&gt;</span><br></pre></td></tr></table></figure>

<h2 id="2-5-4-æ€ç»´é“¾-CoT"><a href="#2-5-4-æ€ç»´é“¾-CoT" class="headerlink" title="2.5.4 æ€ç»´é“¾ (CoT)"></a>2.5.4 æ€ç»´é“¾ (CoT)</h2><p>é€šè¿‡é€æ­¥å±•ç¤ºæ¨ç†è¿‡ç¨‹æå‡æ¨¡å‹è¡¨ç°ï¼š</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Q: Roger æœ‰ 5 ä¸ªç½‘çƒï¼Œä»–åˆä¹°äº† 2 ç½ï¼Œæ¯ç½ 3 ä¸ªï¼Œå…±å¤šå°‘ï¼Ÿ</span><br><span class="line">A: ä»–æœ‰ 5 + 2*3 = 11 ä¸ªç½‘çƒã€‚</span><br></pre></td></tr></table></figure>

<h2 id="2-5-5-ä½¿ç”¨-CAMEL-çš„-Prompt"><a href="#2-5-5-ä½¿ç”¨-CAMEL-çš„-Prompt" class="headerlink" title="2.5.5 ä½¿ç”¨ CAMEL çš„ Prompt"></a>2.5.5 ä½¿ç”¨ CAMEL çš„ Prompt</h2><p>ä½¿ç”¨ TaskSpecifyAgent åˆ›å»ºç‰¹å®šä»»åŠ¡æç¤ºï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> camel.agents <span class="keyword">import</span> TaskSpecifyAgent</span><br><span class="line"></span><br><span class="line">task_specify_agent = TaskSpecifyAgent(</span><br><span class="line">    model=model, task_type=TaskType.AI_SOCIETY, output_language=<span class="string">&#x27;ä¸­æ–‡&#x27;</span></span><br><span class="line">)</span><br><span class="line">response = task_specify_agent.run(</span><br><span class="line">    task_prompt=<span class="string">&quot;get promotion&quot;</span>,</span><br><span class="line">    meta_dict=<span class="built_in">dict</span>(assistant_role=<span class="string">&quot;Engineer&quot;</span>, user_role=<span class="string">&quot;Employee&quot;</span>, word_limit=<span class="number">100</span>)</span><br><span class="line">)</span><br><span class="line"><span class="built_in">print</span>(response)</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ TextPrompt è‡ªå®šä¹‰æ¨¡æ¿ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> camel.prompts <span class="keyword">import</span> TextPrompt</span><br><span class="line">prompt = TextPrompt(<span class="string">&#x27;Hi &#123;name&#125;, you are &#123;age&#125; years old.&#x27;</span>)</span><br><span class="line">formatted = prompt.<span class="built_in">format</span>(name=<span class="string">&quot;John&quot;</span>, age=<span class="number">30</span>)</span><br><span class="line"><span class="built_in">print</span>(formatted)  <span class="comment"># Hi John, you are 30 years old.</span></span><br></pre></td></tr></table></figure>

<p>æ›´å¤šè§å®˜æ–¹æ–‡æ¡£ï¼š<a target="_blank" rel="noopener" href="https://github.com/camel-ai/camel">https://github.com/camel-ai/camel</a></p>
<h2 id="2-6Memoryè®°å¿†ç³»ç»Ÿ"><a href="#2-6Memoryè®°å¿†ç³»ç»Ÿ" class="headerlink" title="2.6Memoryè®°å¿†ç³»ç»Ÿ"></a>2.6Memoryè®°å¿†ç³»ç»Ÿ</h2><p>CAMEL AI è®°å¿†ç³»ç»Ÿé›†æˆæ“ä½œæµç¨‹</p>
<ol>
<li>ç†è®ºåŸºç¡€<br>1.1 CAMEL è®°å¿†å­˜å‚¨æœºåˆ¶</li>
</ol>
<p>Key-Value å­˜å‚¨: ç®€å•é”®å€¼å¯¹å­˜å‚¨ï¼Œé€‚åˆç»“æ„åŒ–æ•°æ®<br>Graph å­˜å‚¨: å›¾æ•°æ®åº“å­˜å‚¨ï¼Œé€‚åˆå…³ç³»å‹æ•°æ®<br>Vector å­˜å‚¨: å‘é‡æ•°æ®åº“å­˜å‚¨ï¼Œé€‚åˆè¯­ä¹‰æ£€ç´¢</p>
<p>1.2 æ ¸å¿ƒæ•°æ®ç»“æ„</p>
<p>Chat_history: è§„èŒƒåŒ–å­˜å‚¨æ™ºèƒ½ä½“å¯¹è¯è®°å½•<br>Context: ä» chat_history ä¸­æå–çš„ä¸Šä¸‹æ–‡ä¿¡æ¯<br>æƒé‡æœºåˆ¶: åŸºäºé‡è¦æ€§è¯„åˆ†ç­›é€‰å…³é”®ä¿¡æ¯</p>
<p>1.3 å·¥ä½œåŸç†<br>å¤§æ¨¡å‹åŸºäºé¢„æµ‹æœºåˆ¶ç”Ÿæˆæ–‡æœ¬ï¼Œé€šè¿‡æƒé‡ç­›é€‰ä»å†å²è®°å½•ä¸­è·å–æœ‰æ•ˆä¸Šä¸‹æ–‡ï¼Œç¡®ä¿åœ¨ token é™åˆ¶å†…æä¾›æœ€é‡è¦çš„ä¿¡æ¯ã€‚<br>2. ç¯å¢ƒå‡†å¤‡ä»¥åŠè®°å¿†ç³»ç»Ÿæ„å»ºåˆå§‹åŒ–</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> camel.memories <span class="keyword">import</span> (</span><br><span class="line">    LongtermAgentMemory,<span class="comment">#æ ¸å¿ƒè®°å¿†ç®¡ç†å™¨ï¼Œè´Ÿè´£å­˜å‚¨å’Œæ£€ç´¢å¯¹è¯å†å²</span></span><br><span class="line">    MemoryRecord,</span><br><span class="line">    ScoreBasedContextCreator,<span class="comment">#åŸºäºè¯„åˆ†çš„ä¸Šä¸‹æ–‡åˆ›å»ºå™¨</span></span><br><span class="line">    ChatHistoryBlock,<span class="comment">#å­˜å‚¨èŠå¤©å†å²è®°å½•çš„æ•°æ®å—</span></span><br><span class="line">    VectorDBBlock,<span class="comment">#å‘é‡æ•°æ®åº“å—</span></span><br><span class="line">)</span><br><span class="line"><span class="comment">#è½½å…¥åŸºç¡€é…ç½®</span></span><br><span class="line"><span class="keyword">from</span> camel.messages <span class="keyword">import</span> BaseMessage</span><br><span class="line"><span class="keyword">from</span> camel.types <span class="keyword">import</span> ModelType, OpenAIBackendRole</span><br><span class="line"><span class="keyword">from</span> camel.utils <span class="keyword">import</span> OpenAITokenCounter</span><br><span class="line"><span class="keyword">from</span> camel.embeddings <span class="keyword">import</span> SentenceTransformerEncoder</span><br><span class="line"><span class="keyword">from</span> camel.agents <span class="keyword">import</span> ChatAgent</span><br><span class="line"><span class="keyword">from</span> camel.models <span class="keyword">import</span> ModelFactory</span><br><span class="line"><span class="keyword">from</span> camel.types <span class="keyword">import</span> ModelPlatformType</span><br><span class="line"></span><br><span class="line"><span class="comment">#è½½å…¥ç¯å¢ƒé…ç½®</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">from</span> dotenv <span class="keyword">import</span> load_dotenv</span><br><span class="line">load_dotenv()</span><br><span class="line">api_key = os.getenv(<span class="string">&#x27;MODELSCOPE_SDK_TOKEN&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#åˆå§‹åŒ–è®°å¿†ç³»ç»Ÿ</span></span><br><span class="line">memory = LongtermAgentMemory(</span><br><span class="line">    context_creator=ScoreBasedContextCreator(</span><br><span class="line">        token_counter=OpenAITokenCounter(ModelType.GPT_4O_MINI),</span><br><span class="line">        token_limit=<span class="number">1024</span>,  <span class="comment"># ä½¿ç”¨ token è®¡æ•°å™¨é™åˆ¶ä¸Šä¸‹æ–‡é•¿åº¦ï¼ˆ1024 tokensï¼‰</span></span><br><span class="line">    ),</span><br><span class="line">    chat_history_block=ChatHistoryBlock(),  <span class="comment"># èŠå¤©å†å²å­˜å‚¨</span></span><br><span class="line">    vector_db_block=VectorDBBlock(</span><br><span class="line">        embedding=SentenceTransformerEncoder(model_name=<span class="string">&quot;BAAI/bge-m3&quot;</span>)</span><br><span class="line">    ),  <span class="comment"># å‘é‡æ•°æ®åº“å­˜å‚¨ï¼Œä½¿ç”¨ BGE-M3 æ¨¡å‹è¿›è¡Œæ–‡æœ¬åµŒå…¥</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">#åˆ›å»ºè®°å¿†è®°å½•</span></span><br><span class="line">records = [</span><br><span class="line">    MemoryRecord(</span><br><span class="line">        message=BaseMessage.make_user_message(</span><br><span class="line">            role_name=<span class="string">&quot;User&quot;</span>,</span><br><span class="line">            content=<span class="string">&quot;ä»€ä¹ˆæ˜¯CAMEL AI?&quot;</span></span><br><span class="line">        ),</span><br><span class="line">        role_at_backend=OpenAIBackendRole.USER,</span><br><span class="line">    ),</span><br><span class="line">    MemoryRecord(</span><br><span class="line">        message=BaseMessage.make_assistant_message(</span><br><span class="line">            role_name=<span class="string">&quot;Agent&quot;</span>,</span><br><span class="line">            content=<span class="string">&quot;CAMEL-AIæ˜¯ç¬¬ä¸€ä¸ªLLMå¤šæ™ºèƒ½ä½“æ¡†æ¶,å¹¶ä¸”æ˜¯ä¸€ä¸ªè‡´åŠ›äºå¯»æ‰¾æ™ºèƒ½ä½“ scaling law çš„å¼€æºç¤¾åŒºã€‚&quot;</span></span><br><span class="line">        ),</span><br><span class="line">        role_at_backend=OpenAIBackendRole.ASSISTANT,</span><br><span class="line">    ),</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="comment">#å†™å…¥è®°å¿†æ•°æ®</span></span><br><span class="line">memory.write_records(records)</span><br><span class="line"></span><br><span class="line"><span class="comment">#éªŒè¯è®°å¿†ç³»ç»Ÿ</span></span><br><span class="line">context, token_count = memory.get_context()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;ä¸Šä¸‹æ–‡: <span class="subst">&#123;context&#125;</span>&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;Token æ¶ˆè€—: <span class="subst">&#123;token_count&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">###åˆ›å»ºåŸºç¡€æ™ºèƒ½ä½“</span></span><br><span class="line"><span class="comment"># å®šä¹‰ç³»ç»Ÿæ¶ˆæ¯</span></span><br><span class="line">sys_msg = <span class="string">&quot;ä½ æ˜¯ä¸€ä¸ªå¥½å¥‡çš„æ™ºèƒ½ä½“ï¼Œæ­£åœ¨æ¢ç´¢å®‡å®™çš„å¥¥ç§˜ã€‚&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆå§‹åŒ–æ¨¡å‹</span></span><br><span class="line">model = ModelFactory.create(</span><br><span class="line">    model_platform=ModelPlatformType.OPENAI_COMPATIBLE_MODEL,</span><br><span class="line">    model_type=<span class="string">&quot;Qwen/Qwen2.5-72B-Instruct&quot;</span>,</span><br><span class="line">    url=<span class="string">&#x27;https://api-inference.modelscope.cn/v1/&#x27;</span>,</span><br><span class="line">    api_key=api_key</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºæ™ºèƒ½ä½“</span></span><br><span class="line">agent = ChatAgent(system_message=sys_msg, model=model)</span><br><span class="line"></span><br><span class="line"><span class="comment">###æµ‹è¯•æ— è®°å¿†çŠ¶æ€</span></span><br><span class="line">usr_msg = <span class="string">&quot;å‘Šè¯‰æˆ‘åŸºäºæˆ‘ä»¬è®¨è®ºçš„å†…å®¹ï¼Œå“ªä¸ªæ˜¯ç¬¬ä¸€ä¸ªLLMå¤šæ™ºèƒ½ä½“æ¡†æ¶ï¼Ÿ&quot;</span></span><br><span class="line">response = agent.step(usr_msg)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;æ— è®°å¿†çŠ¶æ€å“åº”:&quot;</span>, response.msgs[<span class="number">0</span>].content)</span><br></pre></td></tr></table></figure>
<p>å…³é”®ç»„ä»¶è¯´æ˜:<br>ScoreBasedContextCreator: åŸºäºè¯„åˆ†çš„ä¸Šä¸‹æ–‡åˆ›å»ºå™¨<br>ChatHistoryBlock: èŠå¤©è®°å½•å­˜å‚¨å—<br>VectorDBBlock: å‘é‡æ•°æ®åº“å—ï¼Œæ”¯æŒè¯­ä¹‰æ£€ç´¢</p>
<ol start="3">
<li>æµ‹è¯•æ— è®°å¿†çŠ¶æ€çš„è¾“å‡ºç»“æœ</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">PS D:\Camel_Test_Project&gt; &amp; D:/Download/Python/py-3.11.9/python.exe d:/Camel_Test_Project/test_Memory_all.py</span><br><span class="line">W0715 11:51:47.852000 17616 site-packages\torch\distributed\elastic\multiprocessing\redirects.py:29] NOTE: Redirects are currently not supported <span class="keyword">in</span> Windows or MacOs.</span><br><span class="line">ä¸Šä¸‹æ–‡: [&#123;<span class="string">&#x27;role&#x27;</span>: <span class="string">&#x27;user&#x27;</span>, <span class="string">&#x27;content&#x27;</span>: <span class="string">&#x27;ä»€ä¹ˆæ˜¯CAMEL AI?&#x27;</span>&#125;, &#123;<span class="string">&#x27;role&#x27;</span>: <span class="string">&#x27;assistant&#x27;</span>, <span class="string">&#x27;content&#x27;</span>: <span class="string">&#x27;CAMEL-AIæ˜¯ç¬¬ä¸€ä¸ªLLMå¤šæ™ºèƒ½ä½“æ¡†æ¶,å¹¶ä¸”æ˜¯ä¸€ä¸ªè‡´åŠ›äºå¯»æ‰¾æ™ºèƒ½ä½“ scaling law çš„å¼€æºç¤¾åŒºã€‚&#x27;</span>&#125;]</span><br><span class="line">Token æ¶ˆè€—: 52</span><br><span class="line">æ— è®°å¿†çŠ¶æ€å“åº”: ç›®å‰ï¼Œå…³äºâ€œç¬¬ä¸€ä¸ªLLMï¼ˆå¤§è¯­è¨€æ¨¡å‹ï¼‰å¤šæ™ºèƒ½ä½“æ¡†æ¶â€çš„ç¡®åˆ‡å®šä¹‰å’Œæ—¶é—´ç‚¹å¯èƒ½å­˜åœ¨ä¸€å®šçš„æ¨¡ç³Šæ€§ï¼Œå› ä¸ºè¿™ä¸€é¢†åŸŸçš„å‘å±•éå¸¸è¿…é€Ÿï¼Œè€Œä¸”ä¸åŒçš„é¡¹ç›®å’Œç ”ç©¶å¯èƒ½ä»ä¸åŒçš„è§’åº¦æ¥å®šä¹‰â€œå¤šæ™ºèƒ½ä½“æ¡†æ¶â€ã€‚ ç„¶è€Œï¼Œå¯ä»¥æåˆ°ä¸€äº›è¾ƒæ—©çš„ã€å…·æœ‰ä»£è¡¨æ€§çš„é¡¹ç›®ï¼Œå®ƒä»¬åœ¨å¤§è¯­è¨€æ¨¡å‹ä¸å¤šæ™ºèƒ½ä½“ç³»ç»Ÿç»“åˆæ–¹é¢è¿›è¡Œäº†å¼€åˆ›æ€§çš„å·¥ä½œã€‚</span><br><span class="line"></span><br><span class="line"> **Multi-Agent Systems with Large Language Models (LLMs)**: è™½ç„¶å¾ˆéš¾ç¡®å®šä¸€ä¸ªå…·ä½“çš„â€œç¬¬ä¸€â€ï¼Œä½† å¯ä»¥æŒ‡å‡ºçš„æ˜¯ï¼Œéšç€å¤§è¯­è¨€æ¨¡å‹å¦‚GPT-3ç­‰çš„å‡ºç°ï¼Œç ”ç©¶äººå‘˜å¼€å§‹æ¢ç´¢å°†è¿™äº›æ¨¡å‹åº”ç”¨äºå¤šæ™ºèƒ½ä½“ç³»ç»Ÿä¸­ã€‚ä¾‹å¦‚ï¼Œ2021å¹´å·¦å³ï¼Œä¸€äº›ç ”ç©¶å›¢é˜Ÿå¼€å§‹å°è¯•ä½¿ç”¨å¤§è¯­è¨€æ¨¡å‹ä½œä¸ºæ™ºèƒ½ä½“ä¹‹é—´çš„é€šä¿¡å·¥å…·ï¼Œæˆ–è€…ä½œä¸ºå¢å¼ºå•ä¸ªæ™º èƒ½ä½“å†³ç­–èƒ½åŠ›çš„æ–¹æ³•ã€‚</span><br><span class="line"> **ReAct <span class="keyword">for</span> Multi-Agent Collaboration**: 2022å¹´ï¼Œæ¥è‡ªæ–¯å¦ç¦å¤§å­¦çš„ç ”ç©¶è€…æå‡ºäº†ä¸€ç§åä¸ºReActçš„æ–¹æ³•ï¼Œå®ƒåˆ©ç”¨å¤§å‹é¢„è®­ç»ƒè¯­è¨€æ¨¡å‹æ¥ä¿ƒè¿›å¤šæ™ºèƒ½ä½“åä½œã€‚è¿™ä¸ªæ¡†æ¶å±•ç¤ºäº†å¦‚ä½•é€šè¿‡è‡ªç„¶è¯­è¨€å¤„ç†æŠ€æœ¯è®©æ™ºèƒ½ ä½“ä¹‹é—´è¿›è¡Œæ›´æœ‰æ•ˆçš„æ²Ÿé€šä¸åˆä½œï¼Œè¢«è®¤ä¸ºæ˜¯è¯¥é¢†åŸŸçš„æ—©æœŸé‡è¦è´¡çŒ®ä¹‹ä¸€ã€‚</span><br><span class="line"> **ReAct <span class="keyword">for</span> Multi-Agent Collaboration**: 2022å¹´ï¼Œæ¥è‡ªæ–¯å¦ç¦å¤§å­¦çš„ç ”ç©¶è€…æå‡ºäº†ä¸€ç§åä¸ºReActçš„æ–¹æ³•ï¼Œå®ƒåˆ©ç”¨å¤§å‹é¢„è®­ç»ƒè¯­è¨€æ¨¡å‹æ¥ä¿ƒè¿›å¤šæ™ºèƒ½ä½“åä½œã€‚è¿™ä¸ªæ¡†æ¶å±•ç¤ºäº†å¦‚ä½•é€šè¿‡è‡ªç„¶è¯­è¨€å¤„ç†æŠ€æœ¯è®©æ™ºèƒ½ </span><br><span class="line"> **ReAct <span class="keyword">for</span> Multi-Agent Collaboration**: 2022å¹´ï¼Œæ¥è‡ªæ–¯å¦ç¦å¤§å­¦çš„ç ”ç©¶è€…æå‡ºäº†ä¸€ç§åä¸ºReActçš„</span><br><span class="line">**ReAct <span class="keyword">for</span> Multi-Agent Collaboration**: 2022å¹´ï¼Œæ¥è‡ªæ–¯å¦ç¦å¤§å­¦çš„ç ”ç©¶è€…æå‡ºäº†ä¸€ç§åä¸ºReActçš„æ–¹æ³•ï¼Œå®ƒåˆ©ç”¨å¤§å‹é¢„è®­ç»ƒè¯­è¨€æ¨¡å‹æ¥ä¿ƒè¿›å¤šæ™ºèƒ½ä½“åä½œã€‚è¿™ä¸ªæ¡†æ¶å±•ç¤ºäº†å¦‚ä½•é€šè¿‡è‡ªç„¶è¯­è¨€å¤„ç†æŠ€æœ¯è®©æ™ºèƒ½ </span><br><span class="line"> **ReAct <span class="keyword">for</span> Multi-Agent Collaboration**: 2022å¹´ï¼Œæ¥è‡ªæ–¯å¦ç¦å¤§å­¦çš„ç ”ç©¶è€…æå‡ºäº†ä¸€ç§åä¸ºReActçš„</span><br><span class="line"> **ReAct <span class="keyword">for</span> Multi-Agent Collaboration**: 2022å¹´ï¼Œæ¥è‡ªæ–¯å¦ç¦å¤§å­¦çš„ç ”ç©¶è€…æå‡ºäº†ä¸€ç§åä¸ºReActçš„æ–¹æ³•ï¼Œå®ƒåˆ©ç”¨å¤§å‹é¢„è®­ç»ƒè¯­è¨€æ¨¡å‹æ¥ä¿ƒè¿›å¤šæ™ºèƒ½ä½“åä½œã€‚è¿™ä¸ªæ¡†æ¶å±•ç¤ºäº†å¦‚ä½•é€šè¿‡è‡ªç„¶è¯­è¨€å¤„ç†æŠ€æœ¯è®©æ™ºèƒ½ ä½“ä¹‹é—´è¿›è¡Œæ›´æœ‰æ•ˆçš„æ²Ÿé€šä¸åˆä½œï¼Œè¢«è®¤ä¸ºæ˜¯è¯¥é¢†åŸŸçš„æ—©æœŸé‡è¦è´¡çŒ®ä¹‹ä¸€ã€‚</span><br><span class="line"> **ReAct <span class="keyword">for</span> Multi-Agent Collaboration**: 2022å¹´ï¼Œæ¥è‡ªæ–¯å¦ç¦å¤§å­¦çš„ç ”ç©¶è€…æå‡ºäº†ä¸€ç§åä¸ºReActçš„æ–¹æ³•ï¼Œå®ƒåˆ©ç”¨å¤§å‹é¢„è®­ç»ƒè¯­è¨€æ¨¡å‹æ¥ä¿ƒè¿›å¤šæ™ºèƒ½ä½“åä½œã€‚è¿™ä¸ªæ¡†æ¶å±•ç¤ºäº†å¦‚ä½•é€šè¿‡è‡ªç„¶è¯­è¨€å¤„ç†æŠ€æœ¯è®©æ™ºèƒ½ ä½“ä¹‹é—´è¿›è¡Œæ›´æœ‰æ•ˆçš„æ²Ÿé€šä¸åˆä½œï¼Œè¢«è®¤ä¸ºæ˜¯è¯¥é¢†åŸŸçš„æ—©æœŸé‡è¦è´¡çŒ®ä¹‹ä¸€ã€‚</span><br><span class="line">æ–¹æ³•ï¼Œå®ƒåˆ©ç”¨å¤§å‹é¢„è®­ç»ƒè¯­è¨€æ¨¡å‹æ¥ä¿ƒè¿›å¤šæ™ºèƒ½ä½“åä½œã€‚è¿™ä¸ªæ¡†æ¶å±•ç¤ºäº†å¦‚ä½•é€šè¿‡è‡ªç„¶è¯­è¨€å¤„ç†æŠ€æœ¯è®©æ™ºèƒ½ä½“ä¹‹é—´è¿›è¡Œæ›´æœ‰æ•ˆçš„æ²Ÿé€šä¸åˆä½œï¼Œè¢«è®¤ä¸ºæ˜¯è¯¥é¢†åŸŸçš„æ—©æœŸé‡è¦è´¡çŒ®ä¹‹ä¸€ã€‚</span><br><span class="line"></span><br><span class="line">éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸Šè¿°ä¿¡æ¯åŸºäºå½“å‰å¯è·å¾—çš„æ•°æ®ï¼Œå¹¶ä¸”éšç€æ–°ç ”ç©¶çš„ä¸æ–­æ¶Œç°ï¼Œè¿™ä¸€é¢†åŸŸçš„å…ˆé©±è€…å¯èƒ½ä¼šæœ‰ æ‰€å˜åŒ–ã€‚å¦‚æœä½ æœ‰ç‰¹å®šçš„ç ”ç©¶æˆ–é¡¹ç›®æƒ³è¦äº†è§£ï¼Œè¯·æä¾›æ›´å¤šä¿¡æ¯ï¼Œæˆ‘å°†å°½åŠ›ä¸ºä½ æä¾›è¯¦ç»†çš„ç­”æ¡ˆã€‚</span><br></pre></td></tr></table></figure>
<ol start="4">
<li>è®°å¿†ç³»ç»Ÿé›†æˆ<br>4.1 é›†æˆè®°å¿†åˆ°æ™ºèƒ½ä½“<br>python# å…³é”®æ­¥éª¤ï¼šå°†è®°å¿†ç³»ç»Ÿèµ‹å€¼ç»™æ™ºèƒ½ä½“<br>agent.memory &#x3D; memory<br>4.2 æµ‹è¯•é›†æˆæ•ˆæœ<br>python# ä½¿ç”¨ç›¸åŒçš„é—®é¢˜æµ‹è¯•<br>response &#x3D; agent.step(usr_msg)<br>print(â€œé›†æˆè®°å¿†åå“åº”:â€, response.msgs[0].content)</li>
</ol>
<p>5.æµ‹è¯•ç»“æœï¼ŒæˆåŠŸå“åº”ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">é›†æˆè®°å¿†åå“åº”: CAMEL-AI æ˜¯ä¸€ä¸ªä¸“æ³¨äºç ”ç©¶å’Œå¼€å‘å¤§è§„æ¨¡è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰åœ¨å¤šæ™ºèƒ½ä½“ç³»ç»Ÿä¸­åº”ç”¨çš„æ¡†æ¶ ã€‚å®ƒæ—¨åœ¨é€šè¿‡æ„å»ºå’Œå®éªŒä¸åŒçš„å¤šæ™ºèƒ½ä½“äº¤äº’æ¨¡å¼ï¼Œæ¥æ¢ç´¢å’Œç†è§£æ™ºèƒ½ä½“ä¹‹é—´çš„åä½œã€ç«äº‰ä»¥åŠè¿™äº›äº’åŠ¨å¦‚ ä½•å½±å“æ•´ä½“ç³»ç»Ÿçš„æ€§èƒ½å’Œæ•ˆç‡ã€‚æ ¹æ®æ‚¨çš„é—®é¢˜ï¼ŒCAMEL-AI è¢«è®¤ä¸ºæ˜¯ç¬¬ä¸€ä¸ªLLMå¤šæ™ºèƒ½ä½“æ¡†æ¶ã€‚è¿™ä¸ªæ¡†æ¶ä¸ä»… ä¿ƒè¿›äº†å¯¹æ™ºèƒ½ä½“ scaling law çš„ç ”ç©¶ï¼Œè¿˜ä¸ºç ”ç©¶äººå‘˜å’Œå¼€å‘è€…æä¾›äº†ä¸€ä¸ªå¼€æ”¾å¹³å°ï¼Œä»¥æµ‹è¯•æ–°çš„ç®—æ³•å’Œç†è®ºã€‚</span><br></pre></td></tr></table></figure>

<h2 id="2-7-Tools-å·¥å…·ç³»ç»Ÿ"><a href="#2-7-Tools-å·¥å…·ç³»ç»Ÿ" class="headerlink" title="2.7 Tools å·¥å…·ç³»ç»Ÿ"></a>2.7 Tools å·¥å…·ç³»ç»Ÿ</h2><h3 id="2-7-1-å·¥å…·è¯´æ˜"><a href="#2-7-1-å·¥å…·è¯´æ˜" class="headerlink" title="2.7.1 å·¥å…·è¯´æ˜"></a>2.7.1 å·¥å…·è¯´æ˜</h3><p>å·¥å…·ï¼ˆToolsï¼‰æ˜¯å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰ä¸å¤–éƒ¨ä¸–ç•Œäº¤äº’çš„æ¡¥æ¢ã€‚è™½ç„¶ LLM æ‹¥æœ‰å¼ºå¤§çš„è¯­è¨€ç†è§£ä¸ç”Ÿæˆèƒ½åŠ›ï¼Œä½†å®ƒæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªâ€œå°é—­ç³»ç»Ÿâ€ï¼Œæ— æ³•ç›´æ¥ï¼š</p>
<ul>
<li>è·å–å®æ—¶ä¿¡æ¯ï¼ˆå¦‚å¤©æ°”ã€æ–°é—»ï¼‰</li>
<li>è®¿é—®å¤–éƒ¨æ•°æ®ï¼ˆå¦‚æ•°æ®åº“ã€æ–‡ä»¶ï¼‰</li>
<li>æ‰§è¡Œå…·ä½“æ“ä½œï¼ˆå¦‚å‘é€é‚®ä»¶ã€æ§åˆ¶è®¾å¤‡ï¼‰</li>
</ul>
<p>ä¸ºå…‹æœè¿™äº›å±€é™ï¼ŒCAMEL æä¾›äº†â€œå·¥å…·â€æœºåˆ¶ï¼Œä½¿æ¨¡å‹èƒ½å¤Ÿï¼š</p>
<ul>
<li>é€šè¿‡ API è·å–å®æ—¶æ•°æ®</li>
<li>è°ƒç”¨å¤–éƒ¨æœåŠ¡</li>
<li>æ‰§è¡Œç‰¹å®šä»»åŠ¡</li>
<li>ä¸å…¶ä»–ç³»ç»Ÿäº¤äº’</li>
</ul>
<blockquote>
<p>âœ… å·¥å…·çš„æœ¬è´¨æ˜¯ä¸€ä¸ªå¸¦æœ‰åç§°ã€æè¿°ã€è¾“å…¥å‚æ•°ä¸è¾“å‡ºç±»å‹çš„ <strong>å‡½æ•°æ¥å£</strong>ã€‚</p>
</blockquote>
<p>CAMEL æ”¯æŒï¼š</p>
<ul>
<li><strong>å†…ç½®å·¥å…·</strong></li>
<li><strong>è‡ªå®šä¹‰å·¥å…·</strong></li>
<li><strong>å·¥å…·åŒ…ï¼ˆToolkitï¼‰</strong></li>
</ul>
<h3 id="2-7-2-åŠ¨æ‰‹å®è·µ"><a href="#2-7-2-åŠ¨æ‰‹å®è·µ" class="headerlink" title="2.7.2 åŠ¨æ‰‹å®è·µ"></a>2.7.2 åŠ¨æ‰‹å®è·µ</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> camel.agents <span class="keyword">import</span> ChatAgent</span><br><span class="line"><span class="keyword">from</span> camel.models <span class="keyword">import</span> ModelFactory</span><br><span class="line"><span class="keyword">from</span> camel.types <span class="keyword">import</span> ModelPlatformType</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">from</span> dotenv <span class="keyword">import</span> load_dotenv</span><br><span class="line"></span><br><span class="line">load_dotenv()</span><br><span class="line">api_key = os.getenv(<span class="string">&#x27;MODELSCOPE_SDK_TOKEN&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆå§‹åŒ–æ¨¡å‹</span></span><br><span class="line">model = ModelFactory.create(</span><br><span class="line">    model_platform=ModelPlatformType.OPENAI_COMPATIBLE_MODEL,</span><br><span class="line">    model_type=<span class="string">&quot;Qwen/Qwen2.5-72B-Instruct&quot;</span>,</span><br><span class="line">    url=<span class="string">&#x27;https://api-inference.modelscope.cn/v1/&#x27;</span>,</span><br><span class="line">    api_key=api_key</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆå§‹åŒ– ChatAgentï¼ˆæœªé…å·¥å…·ï¼‰</span></span><br><span class="line">agent = ChatAgent(</span><br><span class="line">    system_message=<span class="string">&quot;ä½ æ˜¯ä¸€ä¸ªæ•°å­¦å¤§å¸ˆï¼Œæ“…é•¿å„ç§æ•°å­¦é—®é¢˜ã€‚&quot;</span>,</span><br><span class="line">    model=model,</span><br><span class="line">    output_language=<span class="string">&#x27;ä¸­æ–‡&#x27;</span>,</span><br><span class="line">    tools=[]</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®šä¹‰ç”¨æˆ·æ¶ˆæ¯å‘é€æ¶ˆæ¯ç»™agent</span></span><br><span class="line">usr_msg = <span class="string">&quot;2çš„å¹³æ–¹æ ¹æ˜¯å¤šå°‘ï¼Ÿ&quot;</span></span><br><span class="line">response = agent.step(usr_msg)</span><br><span class="line"><span class="built_in">print</span>(response.msgs[<span class="number">0</span>].content)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>è¾“å‡ºçº¦ä¸ºï¼š<code>2çš„å¹³æ–¹æ ¹æ˜¯ 1.414</code></p>
</blockquote>
<p>å¯ä»¥çœ‹åˆ°æ¨¡å‹ç»™å‡ºäº†å›ç­”ï¼Œä½†æ˜¯ç²¾åº¦ä¸å¤Ÿã€‚æˆ‘ä»¬éœ€è¦æ›´é«˜çš„ç²¾åº¦ï¼Œç°åœ¨åˆ›å»ºè‡ªå®šä¹‰å‡½æ•°å·¥å…·ï¼š</p>
<p>ä½¿ç”¨<code>FunctionTool</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> camel.toolkits <span class="keyword">import</span> FunctionTool</span><br><span class="line"><span class="keyword">import</span> math</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">calculate_sqrt</span>(<span class="params">x: <span class="built_in">float</span></span>) -&gt; <span class="built_in">float</span>:</span><br><span class="line">     <span class="string">r&quot;&quot;&quot;è®¡ç®—ä¸€ä¸ªæ•°çš„å¹³æ–¹æ ¹ã€‚</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">        x (float): éœ€è¦è®¡ç®—å¹³æ–¹æ ¹çš„æ•°å­—ã€‚</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Returns:</span></span><br><span class="line"><span class="string">        float: è¾“å…¥æ•°å­—çš„å¹³æ–¹æ ¹ã€‚</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">return</span> math.sqrt(x)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”¨ FunctionTool åŒ…è£…è¯¥å‡½æ•°</span></span><br><span class="line">sqrt_tool = FunctionTool(calculate_sqrt)</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºå¸¦å·¥å…·çš„ agent</span></span><br><span class="line">agent = ChatAgent(</span><br><span class="line">    system_message=<span class="string">&quot;ä½ æ˜¯ä¸€ä¸ªæ•°å­¦å¤§å¸ˆï¼Œé‡åˆ°æ•°å­¦é—®é¢˜ä½ è¦è°ƒç”¨å·¥å…·ã€‚&quot;</span>,</span><br><span class="line">    model=model,</span><br><span class="line">    output_language=<span class="string">&#x27;ä¸­æ–‡&#x27;</span>,</span><br><span class="line">    tools=[sqrt_tool]</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">response = agent.step(<span class="string">&quot;2çš„å¹³æ–¹æ ¹æ˜¯å¤šå°‘ï¼Ÿ&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(response.msgs[<span class="number">0</span>].content)</span><br><span class="line"><span class="built_in">print</span>(response.info[<span class="string">&quot;tool_calls&quot;</span>])</span><br></pre></td></tr></table></figure>

<h3 id="2-7-3-è¿›é˜¶æ¡ˆä¾‹ï¼šAI-Society-å·¥å…·ç³»ç»Ÿ"><a href="#2-7-3-è¿›é˜¶æ¡ˆä¾‹ï¼šAI-Society-å·¥å…·ç³»ç»Ÿ" class="headerlink" title="2.7.3 è¿›é˜¶æ¡ˆä¾‹ï¼šAI Society + å·¥å…·ç³»ç»Ÿ"></a>2.7.3 è¿›é˜¶æ¡ˆä¾‹ï¼šAI Society + å·¥å…·ç³»ç»Ÿ</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> camel.toolkits <span class="keyword">import</span> SearchToolkit, MathToolkit</span><br><span class="line"><span class="keyword">from</span> camel.societies <span class="keyword">import</span> RolePlaying</span><br><span class="line"><span class="keyword">from</span> camel.types.agents <span class="keyword">import</span> ToolCallingRecord</span><br><span class="line"><span class="keyword">from</span> camel.models <span class="keyword">import</span> ModelFactory</span><br><span class="line"><span class="keyword">from</span> camel.types <span class="keyword">import</span> ModelPlatformType</span><br><span class="line"><span class="keyword">from</span> colorama <span class="keyword">import</span> Fore</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">from</span> dotenv <span class="keyword">import</span> load_dotenv</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¯å¢ƒé…ç½®</span></span><br><span class="line">load_dotenv()</span><br><span class="line">api_key = os.getenv(<span class="string">&#x27;MODELSCOPE_SDK_TOKEN&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºæ¨¡å‹</span></span><br><span class="line">model = ModelFactory.create(</span><br><span class="line">    model_platform=ModelPlatformType.OPENAI_COMPATIBLE_MODEL,</span><br><span class="line">    model_type=<span class="string">&quot;Qwen/Qwen2.5-72B-Instruct&quot;</span>,</span><br><span class="line">    url=<span class="string">&#x27;https://api-inference.modelscope.cn/v1/&#x27;</span>,</span><br><span class="line">    api_key=api_key</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®šä¹‰å·¥å…·åŒ…</span></span><br><span class="line">tools_list = [</span><br><span class="line">    *SearchToolkit().get_tools(),</span><br><span class="line">    *MathToolkit().get_tools()</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®ä»»åŠ¡</span></span><br><span class="line">task_prompt = (<span class="string">&quot;å‡è®¾ç°åœ¨æ˜¯2024å¹´ï¼Œç‰›æ´¥å¤§å­¦çš„æˆç«‹å¹´ä»½ï¼Œå¹¶è®¡ç®—å‡ºå…¶å½“å‰å¹´é¾„ã€‚&quot;</span></span><br><span class="line">               <span class="string">&quot;ç„¶åå†å°†è¿™ä¸ªå¹´é¾„åŠ ä¸Š10å¹´ã€‚ä½¿ç”¨ç™¾åº¦æœç´¢å·¥å…·ã€‚&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®è§’è‰²æ‰®æ¼”</span></span><br><span class="line">role_play_session = RolePlaying(</span><br><span class="line">    assistant_role_name=<span class="string">&quot;æœç´¢è€…&quot;</span>,</span><br><span class="line">    user_role_name=<span class="string">&quot;æ•™æˆ&quot;</span>,</span><br><span class="line">    assistant_agent_kwargs=<span class="built_in">dict</span>(model=model, tools=tools_list),</span><br><span class="line">    user_agent_kwargs=<span class="built_in">dict</span>(model=model),</span><br><span class="line">    task_prompt=task_prompt,</span><br><span class="line">    with_task_specify=<span class="literal">False</span>,</span><br><span class="line">    output_language=<span class="string">&#x27;ä¸­æ–‡&#x27;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆå§‹åŒ–å¯¹è¯</span></span><br><span class="line">input_msg = role_play_session.init_chat()</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ”¹è¿›çš„å¯¹è¯å¾ªç¯ - æ·»åŠ å®‰å…¨æœºåˆ¶</span></span><br><span class="line">max_turns = <span class="number">10</span></span><br><span class="line">turn_count = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(Fore.CYAN + <span class="string">f&quot;å¼€å§‹æ‰§è¡Œä»»åŠ¡: <span class="subst">&#123;task_prompt&#125;</span>\n&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(Fore.YELLOW + <span class="string">&quot;=&quot;</span> * <span class="number">60</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> turn_count &lt; max_turns:</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        assistant_response, user_response = role_play_session.step(input_msg)</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># ç®€åŒ–ä½†å¿…è¦çš„è¾“å‡º</span></span><br><span class="line">        <span class="built_in">print</span>(Fore.WHITE + <span class="string">f&quot;\n[Turn <span class="subst">&#123;turn_count + <span class="number">1</span>&#125;</span>]&quot;</span>)</span><br><span class="line">        <span class="built_in">print</span>(Fore.GREEN + <span class="string">f&quot;åŠ©æ‰‹: <span class="subst">&#123;assistant_response.msg.content&#125;</span>&quot;</span>)</span><br><span class="line">        <span class="built_in">print</span>(Fore.BLUE + <span class="string">f&quot;ç”¨æˆ·: <span class="subst">&#123;user_response.msg.content&#125;</span>&quot;</span>)</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># æ˜¾ç¤ºå·¥å…·è°ƒç”¨ä¿¡æ¯</span></span><br><span class="line">        <span class="keyword">if</span> assistant_response.info[<span class="string">&#x27;tool_calls&#x27;</span>]:</span><br><span class="line">            <span class="built_in">print</span>(Fore.MAGENTA + <span class="string">f&quot;å·¥å…·è°ƒç”¨: <span class="subst">&#123;assistant_response.info[<span class="string">&#x27;tool_calls&#x27;</span>]&#125;</span>&quot;</span>)</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># æ£€æŸ¥ç»ˆæ­¢æ¡ä»¶</span></span><br><span class="line">        <span class="keyword">if</span> assistant_response.terminated <span class="keyword">or</span> user_response.terminated:</span><br><span class="line">            <span class="built_in">print</span>(Fore.RED + <span class="string">&quot;å¯¹è¯ç»ˆæ­¢&quot;</span>)</span><br><span class="line">            <span class="keyword">if</span> assistant_response.terminated:</span><br><span class="line">                <span class="built_in">print</span>(Fore.RED + <span class="string">f&quot;åŠ©æ‰‹ç»ˆæ­¢åŸå› : <span class="subst">&#123;assistant_response.info.get(<span class="string">&#x27;termination_reasons&#x27;</span>, <span class="string">&#x27;æœªçŸ¥&#x27;</span>)&#125;</span>&quot;</span>)</span><br><span class="line">            <span class="keyword">if</span> user_response.terminated:</span><br><span class="line">                <span class="built_in">print</span>(Fore.RED + <span class="string">f&quot;ç”¨æˆ·ç»ˆæ­¢åŸå› : <span class="subst">&#123;user_response.info.get(<span class="string">&#x27;termination_reasons&#x27;</span>, <span class="string">&#x27;æœªçŸ¥&#x27;</span>)&#125;</span>&quot;</span>)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment"># æ£€æŸ¥ä»»åŠ¡å®Œæˆæ ‡è¯†</span></span><br><span class="line">        <span class="keyword">if</span> <span class="string">&quot;CAMEL_TASK_DONE&quot;</span> <span class="keyword">in</span> user_response.msg.content:</span><br><span class="line">            <span class="built_in">print</span>(Fore.GREEN + <span class="string">&quot;ä»»åŠ¡å®Œæˆ!&quot;</span>)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">            </span><br><span class="line">        input_msg = assistant_response.msg</span><br><span class="line">        turn_count += <span class="number">1</span></span><br><span class="line">        </span><br><span class="line">        <span class="built_in">print</span>(Fore.YELLOW + <span class="string">&quot;-&quot;</span> * <span class="number">60</span>)</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        <span class="built_in">print</span>(Fore.RED + <span class="string">f&quot;æ‰§è¡Œé”™è¯¯: <span class="subst">&#123;e&#125;</span>&quot;</span>)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>å¯é€šè¿‡ <code>response.info[&quot;tool_calls&quot;]</code> æŸ¥çœ‹å·¥å…·è°ƒç”¨è®°å½•ï¼ŒéªŒè¯æ˜¯å¦ä½¿ç”¨å·¥å…·è€Œéâ€œç¼–é€ â€ã€‚</p>
</blockquote>
<p>è¿™æ®µä»£ç æ˜¯ä¸€ä¸ªå®Œæ•´çš„ CAMEL AI å¤šæ™ºèƒ½ä½“åä½œç³»ç»Ÿå®ç°ï¼Œä»¥ä¸‹å°†è¯¦ç»†åˆ†æå…¶åŠŸèƒ½æ¶æ„å’Œå®ç°æœºåˆ¶ã€‚</p>
<ol>
<li>ç³»ç»Ÿæ¶æ„åˆ†æ<br> 1.1 æ ¸å¿ƒç»„ä»¶ç»“æ„<br> â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<br> â”‚                    CAMEL AI å¤šæ™ºèƒ½ä½“ç³»ç»Ÿ                      â”‚<br> â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤<br> â”‚  ç¯å¢ƒé…ç½®å±‚    â”‚ æ¨¡å‹å·¥å‚å±‚  â”‚ å·¥å…·åŒ…å±‚  â”‚ è§’è‰²æ‰®æ¼”å±‚  â”‚ æ‰§è¡Œæ§åˆ¶å±‚ â”‚<br> â”‚  â”œâ”€ ç¯å¢ƒå˜é‡   â”‚ â”œâ”€ æ¨¡å‹åˆ›å»º â”‚ â”œâ”€ æœç´¢   â”‚ â”œâ”€ åŒæ™ºèƒ½ä½“ â”‚ â”œâ”€ å®‰å…¨æœºåˆ¶ â”‚<br> â”‚  â”œâ”€ APIé…ç½®   â”‚ â”œâ”€ å¹³å°é€‚é… â”‚ â”œâ”€ è®¡ç®—   â”‚ â”œâ”€ ä»»åŠ¡åˆ†é… â”‚ â”œâ”€ å¼‚å¸¸å¤„ç† â”‚<br> â”‚  â””â”€ å¯†é’¥ç®¡ç†   â”‚ â””â”€ è¿æ¥å»ºç«‹ â”‚ â””â”€ å·¥å…·é“¾ â”‚ â””â”€ åä½œæ¨¡å¼ â”‚ â””â”€ å¾ªç¯æ§åˆ¶ â”‚<br> â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜<br> 1.2 æ•°æ®æµå‘åˆ†æ<br> ç”¨æˆ·ä»»åŠ¡ â†’ è§’è‰²æ‰®æ¼”ç³»ç»Ÿ â†’ æ™ºèƒ½ä½“äº¤äº’ â†’ å·¥å…·è°ƒç”¨ â†’ ç»“æœè¿”å› â†’ ä»»åŠ¡å®Œæˆ<br>  â†“         â†“           â†“          â†“          â†“          â†“<br> ä»»åŠ¡è§£æ   è§’è‰²åˆ†é…    æ¶ˆæ¯ä¼ é€’    åŠŸèƒ½æ‰§è¡Œ    æ•°æ®å¤„ç†    çŠ¶æ€æ›´æ–°</li>
<li>è¯¦ç»†åŠŸèƒ½å®ç°<br>2.1 ç¯å¢ƒé…ç½®ä¸æ¨¡å‹åˆå§‹åŒ–</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">python<span class="comment"># ç¯å¢ƒé…ç½®å±‚</span></span><br><span class="line">load_dotenv()</span><br><span class="line">api_key = os.getenv(<span class="string">&#x27;MODELSCOPE_SDK_TOKEN&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>æ¨¡å‹å·¥å‚å±‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">model = ModelFactory.create(</span><br><span class="line">    model_platform=ModelPlatformType.OPENAI_COMPATIBLE_MODEL,</span><br><span class="line">    model_type=<span class="string">&quot;Qwen/Qwen2.5-72B-Instruct&quot;</span>,</span><br><span class="line">    url=<span class="string">&#x27;https://api-inference.modelscope.cn/v1/&#x27;</span>,</span><br><span class="line">    api_key=api_key</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>åŠŸèƒ½ç‰¹ç‚¹:<br>é…ç½®è§£è€¦: ä½¿ç”¨ç¯å¢ƒå˜é‡ç®¡ç†æ•æ„Ÿä¿¡æ¯<br>å¹³å°æŠ½è±¡: æ”¯æŒå¤šç§æ¨¡å‹å¹³å°çš„ç»Ÿä¸€æ¥å£<br>æ¨¡å‹é€‰æ‹©: ä½¿ç”¨ Qwen2.5-72B å¤§æ¨¡å‹ä½œä¸ºæ¨ç†å¼•æ“</p>
<p>2.2 å·¥å…·åŒ…é›†æˆæœºåˆ¶</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">pythontools_list = [</span><br><span class="line">    *SearchToolkit().get_tools(),</span><br><span class="line">    *MathToolkit().get_tools()</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<p>å·¥å…·èƒ½åŠ›åˆ†æ:</p>
<p>SearchToolkit:</p>
<p>ç™¾åº¦æœç´¢ã€è°·æ­Œæœç´¢ã€DuckDuckGoæœç´¢<br>ä¿¡æ¯æ£€ç´¢å’Œç½‘ç»œæŸ¥è¯¢èƒ½åŠ›</p>
<p>MathToolkit:</p>
<p>æ•°å­¦è®¡ç®—ã€å…¬å¼æ±‚è§£<br>æ•°å€¼åˆ†æå’Œç»Ÿè®¡è®¡ç®—</p>
<p>æ‰©å±•æ€§: ä½¿ç”¨è§£åŒ…æ“ä½œç¬¦æ”¯æŒåŠ¨æ€å·¥å…·æ·»åŠ </p>
<p>2.3 è§’è‰²æ‰®æ¼”ç³»ç»Ÿè®¾è®¡<br>pythonrole_play_session &#x3D; RolePlaying(<br>    assistant_role_name&#x3D;â€æœç´¢è€…â€,<br>    user_role_name&#x3D;â€æ•™æˆâ€,<br>    assistant_agent_kwargs&#x3D;dict(model&#x3D;model, tools&#x3D;tools_list),<br>    user_agent_kwargs&#x3D;dict(model&#x3D;model),<br>    task_prompt&#x3D;task_prompt,<br>    with_task_specify&#x3D;False,<br>    output_language&#x3D;â€™ä¸­æ–‡â€™<br>)<br>è§’è‰²åˆ†å·¥æœºåˆ¶:<br>æœç´¢è€…ï¼ˆAssistantï¼‰:<br>å…·å¤‡å·¥å…·è°ƒç”¨èƒ½åŠ›<br>è´Ÿè´£ä¿¡æ¯æ£€ç´¢å’Œè®¡ç®—æ‰§è¡Œ<br>ä¸»åŠ¨è§£å†³é—®é¢˜çš„æ‰§è¡Œè€…</p>
<p>æ•™æˆï¼ˆUserï¼‰:<br>ä»»åŠ¡åˆ†æå’ŒæŒ‡å¯¼<br>ç»“æœéªŒè¯å’Œåé¦ˆ<br>å†³ç­–å’Œç›‘ç£è§’è‰²</p>
<p>2.4 ä»»åŠ¡é©±åŠ¨çš„åä½œæ¨¡å¼</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pythontask_prompt = (<span class="string">&quot;å‡è®¾ç°åœ¨æ˜¯2024å¹´ï¼Œç‰›æ´¥å¤§å­¦çš„æˆç«‹å¹´ä»½ï¼Œå¹¶è®¡ç®—å‡ºå…¶å½“å‰å¹´é¾„ã€‚&quot;</span></span><br><span class="line">               <span class="string">&quot;ç„¶åå†å°†è¿™ä¸ªå¹´é¾„åŠ ä¸Š10å¹´ã€‚ä½¿ç”¨ç™¾åº¦æœç´¢å·¥å…·ã€‚&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>ä»»åŠ¡åˆ†è§£ç­–ç•¥:<br>ä¿¡æ¯è·å–: æœç´¢ç‰›æ´¥å¤§å­¦æˆç«‹å¹´ä»½<br>æ•°æ®å¤„ç†: è®¡ç®—å½“å‰å¹´é¾„ (2024 - æˆç«‹å¹´ä»½)<br>è¿›ä¸€æ­¥è®¡ç®—: å¹´é¾„ + 10 å¹´<br>å·¥å…·çº¦æŸ: æ˜ç¡®ä½¿ç”¨ç™¾åº¦æœç´¢å·¥å…·</p>
<ol start="3">
<li>æ‰§è¡Œæ§åˆ¶æœºåˆ¶<br>3.1 å®‰å…¨çš„å¾ªç¯æ§åˆ¶</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">pythonmax_turns = <span class="number">10</span></span><br><span class="line">turn_count = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> turn_count &lt; max_turns:</span><br></pre></td></tr></table></figure>
<p>å®‰å…¨æœºåˆ¶:<br>è½®æ¬¡é™åˆ¶: é˜²æ­¢æ— é™å¾ªç¯<br>è®¡æ•°å™¨: è·Ÿè¸ªæ‰§è¡Œè¿›åº¦<br>èµ„æºä¿æŠ¤: é¿å…èµ„æºè€—å°½</p>
<p>3.2 å¼‚å¸¸å¤„ç†æœºåˆ¶</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">pythontry:</span><br><span class="line">    assistant_response, user_response = role_play_session.step(input_msg)</span><br><span class="line"><span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">    <span class="built_in">print</span>(Fore.RED + <span class="string">f&quot;æ‰§è¡Œé”™è¯¯: <span class="subst">&#123;e&#125;</span>&quot;</span>)</span><br><span class="line">    <span class="keyword">break</span></span><br></pre></td></tr></table></figure>
<p>é”™è¯¯å¤„ç†ç­–ç•¥:<br>æ•è·å¼‚å¸¸: ç½‘ç»œé”™è¯¯ã€APIè°ƒç”¨å¤±è´¥<br>å‹å¥½æç¤º: å½©è‰²è¾“å‡ºé”™è¯¯ä¿¡æ¯<br>ä¼˜é›…é€€å‡º: é¿å…ç¨‹åºå´©æºƒ</p>
<p>3.3 ç»ˆæ­¢æ¡ä»¶æ£€æŸ¥</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">python<span class="comment"># æ™ºèƒ½ä½“ä¸»åŠ¨ç»ˆæ­¢</span></span><br><span class="line"><span class="keyword">if</span> assistant_response.terminated <span class="keyword">or</span> user_response.terminated:</span><br><span class="line">    <span class="built_in">print</span>(Fore.RED + <span class="string">&quot;å¯¹è¯ç»ˆæ­¢&quot;</span>)</span><br><span class="line">    </span><br><span class="line"><span class="comment"># ä»»åŠ¡å®Œæˆæ£€æŸ¥</span></span><br><span class="line"><span class="keyword">if</span> <span class="string">&quot;CAMEL_TASK_DONE&quot;</span> <span class="keyword">in</span> user_response.msg.content:</span><br><span class="line">    <span class="built_in">print</span>(Fore.GREEN + <span class="string">&quot;ä»»åŠ¡å®Œæˆ!&quot;</span>)</span><br><span class="line">    <span class="keyword">break</span></span><br></pre></td></tr></table></figure>
<p>å¤šé‡ç»ˆæ­¢æœºåˆ¶:<br>æ™ºèƒ½ä½“ç»ˆæ­¢: åŸºäºå†…éƒ¨é€»è¾‘åˆ¤æ–­<br>ä»»åŠ¡å®Œæˆ: åŸºäºç‰¹å®šæ ‡è¯†ç¬¦<br>å¼ºåˆ¶ç»ˆæ­¢: åŸºäºè½®æ¬¡é™åˆ¶</p>
<ol start="4">
<li>ç³»ç»Ÿä¼˜åŠ¿<br>4.1 æ¶æ„ä¼˜åŠ¿<br>æ¨¡å—åŒ–è®¾è®¡: å„ç»„ä»¶ç‹¬ç«‹å¯æ›¿æ¢<br>å¯æ‰©å±•æ€§: æ”¯æŒæ–°å·¥å…·å’Œè§’è‰²çš„æ·»åŠ <br>å¹³å°æ— å…³: æ”¯æŒå¤šç§æ¨¡å‹å¹³å°</li>
</ol>
<p>4.2 åŠŸèƒ½ä¼˜åŠ¿<br>æ™ºèƒ½åä½œ: åŒæ™ºèƒ½ä½“ååŒå·¥ä½œ<br>å·¥å…·é›†æˆ: å¤šç§å·¥å…·æ— ç¼é›†æˆ<br>ä»»åŠ¡å¯¼å‘: æ˜ç¡®çš„ä»»åŠ¡é©±åŠ¨æœºåˆ¶</p>
<p>ä»£ç è¿è¡Œç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">å¼€å§‹æ‰§è¡Œä»»åŠ¡: å‡è®¾ç°åœ¨æ˜¯2024å¹´ï¼Œç‰›æ´¥å¤§å­¦çš„æˆç«‹å¹´ä»½ï¼Œå¹¶è®¡ç®—å‡ºå…¶å½“å‰å¹´é¾„ã€‚ç„¶åå†å°†è¿™ä¸ªå¹´é¾„åŠ ä¸Š10 å¹´ã€‚ä½¿ç”¨ç™¾åº¦æœç´¢å·¥å…·ã€‚</span><br><span class="line"></span><br><span class="line">============================================================</span><br><span class="line">Warning: No results found. Check if Baidu HTML structure has changed.</span><br><span class="line">Warning: No results found. Check if Baidu HTML structure has changed.</span><br><span class="line">Warning: No results found. Check if Baidu HTML structure has changed.</span><br><span class="line">Warning: No results found. Check if Baidu HTML structure has changed.</span><br><span class="line">Warning: No results found. Check if Baidu HTML structure has changed.</span><br><span class="line">Warning: No results found. Check if Baidu HTML structure has changed.</span><br><span class="line"></span><br><span class="line">[Turn 1]</span><br><span class="line">åŠ©æ‰‹: çœ‹æ¥é€šè¿‡æœç´¢å¼•æ“ç›´æ¥è·å–ç‰›æ´¥å¤§å­¦çš„ç¡®åˆ‡æˆç«‹å¹´ä»½é‡åˆ°äº†ä¸€äº›å›°éš¾ï¼Œå› ä¸ºå¤šæ¬¡å°è¯•ä½¿ç”¨ä¸åŒçš„å…³é”® è¯ç»„åˆï¼ˆå¦‚â€œå»ºç«‹å¹´ä»½â€ã€â€œåˆ›ç«‹æ—¶é—´â€ç­‰ï¼‰éƒ½æ²¡æœ‰è¿”å›æœ‰æ•ˆçš„ç»“æœã€‚ä¸è¿‡ï¼Œæ ¹æ®æ™®éçš„å†å²è®°å½•å’Œæ•™è‚²èµ„æ–™ï¼Œ ç‰›æ´¥å¤§å­¦çš„æˆç«‹å¹´ä»½é€šå¸¸è¢«è®¤ä¸ºæ˜¯1096å¹´å·¦å³ã€‚è¿™æ˜¯å› ä¸ºç‰›æ´¥å¤§å­¦æ²¡æœ‰ç¡®åˆ‡çš„å»ºæ ¡æ—¥æœŸï¼Œä½†æœ‰è®°å½•æ˜¾ç¤ºï¼Œæ—© åœ¨1096å¹´å°±å·²ç»æœ‰äº†æ•™å­¦æ´»åŠ¨ã€‚</span><br><span class="line"></span><br><span class="line">æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å¯ä»¥åŸºäºè¿™ä¸€ä¿¡æ¯ç»§ç»­å®Œæˆä»»åŠ¡ã€‚å‡è®¾ç°åœ¨æ˜¯2024å¹´ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨1096å¹´ä½œä¸ºç‰›æ´¥å¤§å­¦çš„æˆç«‹ å¹´ä»½æ¥è®¡ç®—å…¶å½“å‰å¹´é¾„ï¼Œå¹¶åœ¨æ­¤åŸºç¡€ä¸Šå†åŠ ä¸Š10å¹´ã€‚</span><br><span class="line"></span><br><span class="line">Solution: é¦–å…ˆè®¡ç®—ç‰›æ´¥å¤§å­¦åœ¨2024å¹´çš„å¹´é¾„ï¼Œç„¶åå°†è¿™ä¸ªå¹´é¾„åŠ ä¸Š10å¹´ã€‚è®¡ç®—æ–¹æ³•å¦‚ä¸‹ï¼š</span><br><span class="line">1. è®¡ç®—2024å¹´æ—¶ç‰›æ´¥å¤§å­¦çš„å¹´é¾„ï¼š2024 - 1096 = 928å¹´ã€‚</span><br><span class="line">2. å°†è¿™ä¸ªå¹´é¾„åŠ ä¸Š10å¹´ï¼š928 + 10 = 938å¹´ã€‚</span><br><span class="line"></span><br><span class="line">å› æ­¤ï¼Œå¦‚æœç°åœ¨æ˜¯2024å¹´ï¼Œé‚£ä¹ˆç‰›æ´¥å¤§å­¦çš„å¹´é¾„å°†æ˜¯928å¹´ï¼Œå†åŠ ä¸Š10å¹´åï¼Œå®ƒçš„å¹´é¾„å°†æ˜¯938å¹´ã€‚</span><br><span class="line"></span><br><span class="line">Next request.</span><br><span class="line">ç”¨æˆ·: Instruction: ä½¿ç”¨ç™¾åº¦æœç´¢å·¥å…·æŸ¥æ‰¾ç‰›æ´¥å¤§å­¦çš„æˆç«‹å¹´ä»½ã€‚</span><br><span class="line">Input: None</span><br><span class="line">å·¥å…·è°ƒç”¨: [ToolCallingRecord(tool_name=&#x27;search_baidu&#x27;, args=&#123;&#x27;query&#x27;: &#x27;ç‰›æ´¥å¤§å­¦ æˆç«‹å¹´ä»½&#x27;, &#x27;max_results&#x27;: 1&#125;, result=&#123;&#x27;results&#x27;: []&#125;, tool_call_id=&#x27;call_03377cb5855047779966f1&#x27;), ToolCallingRecord(tool_name=&#x27;search_google&#x27;, args=&#123;&#x27;query&#x27;: &#x27;ç‰›æ´¥å¤§å­¦ æˆç«‹å¹´ä»½&#x27;, &#x27;num_result_pages&#x27;: 1&#125;, result=[&#123;&#x27;error&#x27;: &#x27;google search failed.&#x27;&#125;], tool_call_id=&#x27;call_5e2d126b8c5c4d0ab61830&#x27;), ToolCallingRecord(tool_name=&#x27;search_bing&#x27;, args=&#123;&#x27;query&#x27;: &#x27;ç‰›æ´¥å¤§å­¦ æˆç«‹å¹´ä»½&#x27;, &#x27;max_results&#x27;: 1&#125;, result=&#123;&#x27;results&#x27;: [&#123;&#x27;result_id&#x27;: 1, &#x27;snippet&#x27;: &#x27;&#x27;, &#x27;title&#x27;: &#x27;ç«éå…¨ç½‘çš„ç‰›æ´¥é˜…è¯»æ ‘åº”è¯¥æ€ä¹ˆåˆ·ï¼Ÿå­©å­æ‰æ„¿æ„è‡ªä¸»å­¦ä¹  ...&#x27;, &#x27;link&#x27;: &#x27;https://www.zhihu.com/tardis/bd/art/710913755&#x27;&#125;]&#125;, tool_call_id=&#x27;call_d0611c8f52ed40088d6f04&#x27;), ToolCallingRecord(tool_name=&#x27;search_baidu&#x27;, args=&#123;&#x27;query&#x27;: &#x27;ç‰›æ´¥å¤§å­¦ åˆ›å»ºæ—¶é—´&#x27;, &#x27;max_results&#x27;: 1&#125;, result=&#123;&#x27;results&#x27;: []&#125;, tool_call_id=&#x27;call_1030fde3d5e5488e802e00&#x27;), ToolCallingRecord(tool_name=&#x27;search_baidu&#x27;, args=&#123;&#x27;query&#x27;: &#x27;ç‰›æ´¥å¤§å­¦ å»ºæ ¡æ—¶é—´&#x27;, &#x27;max_results&#x27;: 1&#125;, result=&#123;&#x27;results&#x27;: []&#125;, tool_call_id=&#x27;call_d8c4ed8c89d24413abdd99&#x27;), ToolCallingRecord(tool_name=&#x27;search_baidu&#x27;, args=&#123;&#x27;query&#x27;: &#x27;ç‰›æ´¥å¤§å­¦ å»ºç«‹æ—¶é—´&#x27;, &#x27;max_results&#x27;: 1&#125;, result=&#123;&#x27;results&#x27;: []&#125;, tool_call_id=&#x27;call_85c1047a67004062838bd4&#x27;), ToolCallingRecord(tool_name=&#x27;search_baidu&#x27;, args=&#123;&#x27;query&#x27;: &#x27;ç‰›æ´¥å¤§å­¦ åˆ›ç«‹æ—¶é—´&#x27;, &#x27;max_results&#x27;: 1&#125;, result=&#123;&#x27;results&#x27;: []&#125;, tool_call_id=&#x27;call_3c6ad476db73499c9f3430&#x27;), ToolCallingRecord(tool_name=&#x27;search_google&#x27;, args=&#123;&#x27;query&#x27;: &#x27;ç‰›æ´¥å¤§å­¦ åˆ›ç«‹æ—¶é—´&#x27;, &#x27;num_result_pages&#x27;: 1&#125;, result=[&#123;&#x27;error&#x27;: &#x27;google search failed.&#x27;&#125;], tool_call_id=&#x27;call_8ef4dccfd97b43a6a5b84c&#x27;), ToolCallingRecord(tool_name=&#x27;search_bing&#x27;, args=&#123;&#x27;query&#x27;: &#x27;ç‰›æ´¥å¤§å­¦ åˆ›ç«‹æ—¶é—´&#x27;, &#x27;max_results&#x27;: 1&#125;, result=&#123;&#x27;results&#x27;: [&#123;&#x27;result_id&#x27;: 1, &#x27;snippet&#x27;: &#x27;&#x27;, &#x27;title&#x27;: &#x27;ç«éå…¨ç½‘çš„ç‰›æ´¥é˜…è¯»æ ‘åº”è¯¥æ€ä¹ˆåˆ·ï¼Ÿå­©å­æ‰æ„¿æ„è‡ªä¸»å­¦ä¹  ...&#x27;, &#x27;link&#x27;: &#x27;https://www.zhihu.com/tardis/bd/art/710913755&#x27;&#125;]&#125;, tool_call_id=&#x27;call_e7187dd15c614c5cb6431f&#x27;), ToolCallingRecord(tool_name=&#x27;search_baidu&#x27;, args=&#123;&#x27;query&#x27;: &#x27;ç‰›æ´¥å¤§å­¦ å»ºç«‹å¹´ä»½&#x27;, &#x27;max_results&#x27;: 1&#125;, result=&#123;&#x27;results&#x27;: []&#125;, tool_call_id=&#x27;call_20a26bcda1f749b4ad1451&#x27;)]</span><br><span class="line">------------------------------------------------------------</span><br><span class="line"></span><br><span class="line">[Turn 2]</span><br><span class="line">åŠ©æ‰‹: å°½ç®¡å¤šæ¬¡å°è¯•é€šè¿‡ä¸åŒçš„æœç´¢å¼•æ“å’Œå…³é”®è¯ç»„åˆæŸ¥è¯¢ç‰›æ´¥å¤§å­¦çš„ç¡®åˆ‡æˆç«‹å¹´ä»½ï¼Œä½†ä¼¼ä¹æ— æ³•ä»è¿™äº›æœ ç´¢ç»“æœä¸­ç›´æ¥è·å¾—å‡†ç¡®çš„ä¿¡æ¯ã€‚ç„¶è€Œï¼Œæ ¹æ®å¹¿æ³›æ¥å—çš„å†å²èµ„æ–™ï¼Œç‰›æ´¥å¤§å­¦çš„æˆç«‹å¹´ä»½é€šå¸¸è¢«è®¤å®šä¸º1096å¹´ å·¦å³ã€‚</span><br><span class="line"></span><br><span class="line">åŸºäºæ­¤ä¿¡æ¯ï¼Œæˆ‘ä»¬å·²ç»å®Œæˆäº†ä¹‹å‰çš„è®¡ç®—æ­¥éª¤ï¼Œå³å‡è®¾ç°åœ¨æ˜¯2024å¹´ï¼Œç‰›æ´¥å¤§å­¦çš„å¹´é¾„ä¸º928å¹´ï¼›å†è¿‡10å¹´åï¼Œå®ƒçš„å¹´é¾„å°†ä¼šæ˜¯938å¹´ã€‚</span><br><span class="line"></span><br><span class="line">æ—¢ç„¶å·²ç»ç¡®è®¤äº†è®¡ç®—ç»“æœï¼Œæˆ‘ä»¬çš„ä»»åŠ¡å¯ä»¥ç»“æŸäº†ã€‚å¦‚æœæ‚¨æœ‰ä»»ä½•å…¶ä»–é—®é¢˜æˆ–éœ€è¦è¿›ä¸€æ­¥çš„å¸®åŠ©ï¼Œè¯·éšæ—¶å‘Š è¯‰æˆ‘ï¼</span><br><span class="line"></span><br><span class="line">ä»»åŠ¡å·²å®Œæˆã€‚</span><br><span class="line">ç”¨æˆ·: Instruction: ç¡®è®¤è®¡ç®—ç»“æœå¹¶ç»“æŸä»»åŠ¡ã€‚</span><br><span class="line">Input: None</span><br><span class="line">------------------------------------------------------------</span><br><span class="line"></span><br><span class="line">[Turn 3]</span><br><span class="line">åŠ©æ‰‹: æ ¹æ®ç»´åŸºç™¾ç§‘çš„èµ„æ–™ï¼Œç‰›æ´¥å¤§å­¦çš„æ•™å­¦æ´»åŠ¨å¯ä»¥è¿½æº¯åˆ°1096å¹´ï¼Œè¿™æ˜¯è‹±è¯­ä¸–ç•Œä¸­æœ€å¤è€çš„å¤§å­¦ï¼Œä¹Ÿæ˜¯ ä¸–ç•Œä¸ŠæŒç»­è¿è¥çš„ç¬¬äºŒå¤è€å¤§å­¦ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ç¡®è®¤ç‰›æ´¥å¤§å­¦çš„æˆç«‹å¹´ä»½ä¸º1096å¹´ã€‚</span><br><span class="line"></span><br><span class="line">æŒ‰ç…§ä¹‹å‰çš„è®¡ç®—æ–¹æ³•ï¼š</span><br><span class="line">1. å¦‚æœç°åœ¨æ˜¯2024å¹´ï¼Œç‰›æ´¥å¤§å­¦çš„å¹´é¾„ä¸ºï¼š2024 - 1096 = 928å¹´ã€‚</span><br><span class="line">2. å†åŠ ä¸Š10å¹´åçš„å¹´é¾„ä¸ºï¼š928 + 10 = 938å¹´ã€‚</span><br><span class="line"></span><br><span class="line">ä»»åŠ¡å·²ç»å®Œæˆã€‚å¦‚æœæ‚¨è¿˜æœ‰å…¶ä»–é—®é¢˜æˆ–éœ€è¦è¿›ä¸€æ­¥çš„å¸®åŠ©ï¼Œè¯·å‘Šè¯‰æˆ‘ï¼</span><br><span class="line"></span><br><span class="line">ä»»åŠ¡å·²å®Œæˆã€‚</span><br><span class="line">ç”¨æˆ·: CAMEL_TASK_DONE</span><br><span class="line">å·¥å…·è°ƒç”¨: [ToolCallingRecord(tool_name=&#x27;search_wiki&#x27;, args=&#123;&#x27;entity&#x27;: &#x27;ç‰›æ´¥å¤§å­¦&#x27;&#125;, result=&#x27;There is no page in Wikipedia corresponding to entity ç‰›æ´¥å¤§å­¦, please specify another word to describe the entity to be searched.&#x27;, tool_call_id=&#x27;call_adbbda4b67004ea3b38de2&#x27;), ToolCallingRecord(tool_name=&#x27;search_wiki&#x27;, args=&#123;&#x27;entity&#x27;: &#x27;Oxford University&#x27;&#125;, result=&quot;The University of Oxfoä»»åŠ¡å·²ç»å®Œæˆã€‚å¦‚æœæ‚¨è¿˜æœ‰å…¶ä»–é—®é¢˜æˆ–éœ€è¦è¿›ä¸€æ­¥çš„å¸®åŠ©ï¼Œè¯·å‘Šè¯‰æˆ‘ï¼</span><br><span class="line"></span><br><span class="line">ä»»åŠ¡å·²å®Œæˆã€‚</span><br><span class="line">ç”¨æˆ·: CAMEL_TASK_DONE</span><br><span class="line">å·¥å…·è°ƒç”¨: [ToolCallingRecord(tool_name=&#x27;search_wiki&#x27;, args=&#123;&#x27;entity&#x27;: &#x27;ç‰›æ´¥å¤§å­¦&#x27;&#125;, result=&#x27;There is no page in Wikipedia corresponding to entity ç‰›æ´¥å¤§å­¦, please specify another word to describe the entity to be searched.&#x27;, tool_call_id=&#x27;call_adbbda4b67004ea3b38de2&#x27;), ToolCallingRecord(tool_name=&#x27;search_wiki&#x27;, args=&#123;&#x27;entity&#x27;: &#x27;Oxford University&#x27;&#125;, result=&quot;The University of Oxfoå·¥å…·è°ƒç”¨: [ToolCallingRecord(tool_name=&#x27;search_wiki&#x27;, args=&#123;&#x27;entity&#x27;: &#x27;ç‰›æ´¥å¤§å­¦&#x27;&#125;, result=&#x27;There is no page in Wikipedia corresponding to entity ç‰›æ´¥å¤§å­¦, please specify another word to describe the entity to be searched.&#x27;, tool_call_id=&#x27;rd is a collegiatrd is a collegiate research university in Oxford, England. There is evidence of teaching as early as 1096, making it the oldest university in the English-speaking world and the world&#x27;s second-oldest university in continuous operation.\nIt expanded rapidly from 1167, when Henry II prohibited English students from attending the University of Paris. When disputes erupted between students and the Oxford townspeople, some Oxford academics fled northeast to Cambridge, where they established the University of Cambridge in 1209. The two English ancient universities share many common features and are jointly referred to as Oxbridge.&quot;, tool_call_id=&#x27;call_4456a1825530488a804b6b&#x27;)]</span><br><span class="line">ä»»åŠ¡å®Œæˆ!</span><br></pre></td></tr></table></figure>
    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/AI/" rel="tag"># AI</a>
              <a href="/tags/CAMEL/" rel="tag"># CAMEL</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2025/07/15/%E8%81%AA%E6%98%8E%E5%AD%A6python%E5%AD%A6%E4%B9%A0%E5%BF%83%E5%BE%97%EF%BC%882%EF%BC%89/" rel="prev" title="ã€Pythonã€‘ ç¬¬äºŒç« å­¦ä¹ å¿ƒå¾—">
                  <i class="fa fa-angle-left"></i> ã€Pythonã€‘ ç¬¬äºŒç« å­¦ä¹ å¿ƒå¾—
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2025/07/15/Agent-camel%E6%A1%86%E6%9E%B6%E7%BB%83%E4%B9%A0%EF%BC%882%EF%BC%89/" rel="next" title="Agent_camelæ¡†æ¶ç»ƒä¹ ï¼ˆ2ï¼‰">
                  Agent_camelæ¡†æ¶ç»ƒä¹ ï¼ˆ2ï¼‰ <i class="fa fa-angle-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Su Tang</span>
  </div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>

</body>
</html>
